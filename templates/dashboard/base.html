{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<style>
    .analysis-card {
        border-left: 4px solid #007bff;
        transition: all 0.3s ease;
    }
    
    .analysis-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    .severity-badge {
        font-size: 0.8rem;
        font-weight: 600;
    }
    
    .backend-status {
        display: inline-block;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        margin-right: 8px;
    }
    
    .backend-status.success { background-color: #28a745; }
    .backend-status.failed { background-color: #dc3545; }
    .backend-status.skipped { background-color: #ffc107; }
    
    .issue-card {
        border-left: 3px solid;
        margin-bottom: 10px;
    }
    
    .issue-card.critical { border-left-color: #dc3545; }
    .issue-card.high { border-left-color: #fd7e14; }
    .issue-card.medium { border-left-color: #ffc107; }
    .issue-card.low { border-left-color: #28a745; }
    .issue-card.info { border-left-color: #17a2b8; }
    
    .collapsible-card .card-header {
        cursor: pointer;
        user-select: none;
    }
    
    .collapsible-card .card-header:hover {
        background-color: #f8f9fa;
    }
</style>
{% endblock %}

{% block content %}
<!-- Navigation breadcrumb -->
<nav aria-label="breadcrumb" class="mb-4">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'dashboard:home' %}">Dashboard</a></li>
        {% block breadcrumb %}{% endblock %}
    </ol>
</nav>

<!-- Main dashboard content -->
{% block dashboard_content %}{% endblock %}
{% endblock %}

{% block extra_js %}
<script>
// Global JavaScript for dashboard
document.addEventListener('DOMContentLoaded', function() {
    // Initialize tooltips
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });
    
    // Collapsible cards
    document.querySelectorAll('.collapsible-toggle').forEach(function(element) {
        element.addEventListener('click', function() {
            const icon = this.querySelector('i');
            if (icon) {
                icon.classList.toggle('fa-chevron-down');
                icon.classList.toggle('fa-chevron-up');
            }
        });
    });
    
    // Auto-refresh for running analyses
    const status = document.querySelector('[data-status]');
    if (status && status.dataset.status === 'running') {
        setTimeout(function() {
            location.reload();
        }, 5000);
    }
});
</script>
{% block dashboard_js %}{% endblock %}
{% endblock %} 
